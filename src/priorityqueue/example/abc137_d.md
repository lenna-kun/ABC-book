# ABC137 D - Summer Vacation

[https://atcoder.jp/contests/abc137/tasks/abc137_d](https://atcoder.jp/contests/abc137/tasks/abc137_d)

実行時間制限: 2 sec / メモリ制限: 1024 MB

## 問題文

\\(N\\)件の日雇いアルバイトがあり，\\(i\\)件目の日雇いアルバイトを請けて働くと，その\\(A_i\\)日後に報酬\\(B_i\\)が得られる．

あなたは，これらの中から\\(1\\)日に\\(1\\)件まで選んで請け，働くことができる．ただし，請けたことのある日雇いアルバイトは選べません．

今日から\\(M\\)日後まで(\\(M\\)日後を含む)に得られる報酬の合計の最大値を求めよ．

なお，日雇いアルバイトは今日から請けて働くことができる．

## 制約

- 入力は全て整数である．
- \\(1 \leq N \leq 10^5 \\)
- \\(1 \leq M \leq 10^5 \\)
- \\(1 \leq A_i \leq 10^5 \\)
- \\(1 \leq B_i \leq 10^4 \\)

## 解法

\\(M\\)日後まで
に報酬を得なければそのアルバイトを請ける意味はないので，\\(M\\)日後から\\(i\\) (\\(1 \leq i \leq M)\\)日前では，\\(A_j \leq i\\) \\((1 \leq j \leq N)\\)となるアルバイトを選ぶことになる．

また，最終日から初日に向かって順番にアルバイトを選んでいけば，その日選べるアルバイトの中で毎回報酬が最大のものを毎回選べばいいので，貪欲法で解けることがわかる．

次に計算量を考える．

ある日に選べるアルバイトの候補は，最終日から順番に見ていけば，増える一方で，減ることはない．また，1度選んだアルバイトは選べないので選んだアルバイトは候補から外す必要がある．

つまり，以下の2つの操作をそれぞれ\\(M\\)，\\(N\\)回行う．

- 値の追加
- 最大値の取り出し

これらの操作を高速に行うためのデータ構造は．プライオリティキューである．

プライオリティキューでは，2つのの操作の計算量はどちらも\\(O(\log N)\\)なので，全体の計算量は\\(O((M+N) \log N)\\)となり，これは実行時間制限に間に合う．

## 実装

```py
from heapq import heappush, heappop
n, m = map(int, input().split())
day = [[] for _ in range(10**6)]
hq = []

for _ in range(n):
  a, b = map(int, input().split())
  day[a].append(b)

ans = 0
for i in range(m+1):
  for e in day[i]:
    heappush(hq, -e)
  if hq:
    ans -= heappop(hq)
print(ans)
```